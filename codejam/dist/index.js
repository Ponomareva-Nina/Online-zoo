(()=>{"use strict";var e={885:(e,t,s)=>{e.exports=s.p+"./assets/images/src/assets/audio/click.mp3.mp3"}},t={};function s(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,s),o.exports}s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e})(),(()=>{function e(e,t="",s=""){const i=document.createElement(e);return i.className=t,i.innerHTML=s,i}function t(e="",t="",s=""){const i=document.createElement("button");return i.className=t,i.innerHTML=e,i.value=s,i}class i{constructor(e=0,t=0){this.minutes=e,this.seconds=t,this.minBlock,this.secBlock,this.interval}createMinContainer(){const e=document.createElement("div");return this.minutes<=9?e.innerHTML=`0${this.minutes}`:e.innerHTML=this.minutes,this.minBlock=e,e}createSecContainer(){const e=document.createElement("div");return this.seconds<=9?e.innerHTML=`0${this.seconds}`:e.innerHTML=this.seconds,this.secBlock=e,e}clearTimer(){this.minBlock.innerHTML="00",this.secBlock.innerHTML="00",clearInterval(this.interval),this.minutes=0,this.seconds=0}countTime(){this.seconds++,this.seconds<=9?this.secBlock.innerHTML=`0${this.seconds}`:this.secBlock.innerHTML=this.seconds,this.seconds>59&&(this.minutes++,this.seconds=0,this.minBlock.innerHTML=this.minutes)}startTimer(){clearInterval(this.interval),this.interval=setInterval((()=>this.countTime()),1e3)}stopTimer(){clearInterval(this.interval),this.interval=null}getTime(){return`${this.minutes}:${this.seconds}`}getMinutes(){return this.minutes}getSeconds(){return this.seconds}}function n(e,t,s){const n=new i(e,t);s.innerHTML="Time:&nbsp;";const o=n.createSecContainer(),r=n.createMinContainer();return r.className="min-counter",s.append(r,o),n}const o=s(885),r=new Audio(o),l=document.createElement("button");class c{constructor(e,t=0){this.moves=t,this.movesCounter,this.fieldSize=e,this.tiles=[],this.successCombination=[]}createMovesCounter(){const e=document.createElement("div"),t=document.createElement("span");return e.innerText="Moves: ",this.movesCounter=t,t.innerHTML=this.moves,e.append(t),e}countMoves(){this.moves++,this.movesCounter.innerHTML=this.moves}getCount(){return this.moves}getTiles(){return this.tiles}getFieldSize(){return this.fieldSize}generateTiles(){for(let e=0;e<this.fieldSize*this.fieldSize;e++)0!==e&&this.successCombination.push(e),this.tiles.push({value:e,posLeft:e%this.fieldSize,posTop:(e-e%this.fieldSize)/this.fieldSize});this.successCombination.push(0)}randomizeTiles(){const e=[];for(let t=0;t<this.fieldSize*this.fieldSize;t++)e.push(t);if(e.sort((()=>Math.random()-.5)),this.fieldSize%2!=0){let t=0;for(let s=0;s<e.length;s++)for(let i=s;i<e.length;i++)e[s]>e[i]&&0!==e[s]&&0!==e[i]&&t++;if(t%2!=0)return this.randomizeTiles();for(let t=0;t<this.tiles.length;t++)this.tiles[t].value=e[t]}if(this.fieldSize%2==0){let t=0;for(let s=0;s<e.length;s++)for(let i=s;i<e.length;i++)e[s]>e[i]&&0!==e[s]&&0!==e[i]&&t++;if(t+=Math.floor(e.indexOf(0)/this.fieldSize),t%2==0)return this.randomizeTiles();for(let t=0;t<this.tiles.length;t++)this.tiles[t].value=e[t]}}renderField(e){e.innerHTML="";const t=Math.ceil(e.clientWidth/this.fieldSize);this.tiles.forEach((s=>{const i=document.createElement("div");0===s.value?i.className="tile empty-tile":(i.className="tile",i.innerHTML=s.value),i.style.width=`${t}px`,i.style.height=`${t}px`,i.style.top=s.posTop*t+"px",i.style.left=s.posLeft*t+"px",e.append(i),i.addEventListener("click",(()=>{this.moveTiles(i)}))}))}moveTiles(e){const t=document.querySelector(".empty-tile"),s=e,i=this.tiles.find((e=>e.value===Number(s.innerHTML))),n=this.tiles.find((e=>0===e.value));if(function(e,t){if(e.posTop===t.posTop&&1===Math.abs(e.posLeft-t.posLeft)||1===Math.abs(e.posTop-t.posTop)&&e.posLeft===t.posLeft)return!0}(i,n)){const e=t.style.top,o=t.style.left;n.value=i.value,i.value=0,t.style.top=s.style.top,t.style.left=s.style.left,s.style.top=e,s.style.left=o,this.countMoves(),l.classList.contains("audio_disabled")||r.play()}}isSolved(){let e=0;return this.tiles.forEach(((t,s)=>{t.value===this.successCombination[s]&&e++})),this.tiles.length===e}}const a=e("main","main"),d=e("div","field-container");d.insertAdjacentHTML("afterbegin",'<div class="welcome-text"><h2>Welcome to the gem puzzle!</h2> <p>The goal of the game is to place numbered tiles in order</p> <h3>Game controls:</h3><ol><li>To start a new game press NEW GAME</li><li>To save current game press SAVE</li><li>To continue saved game press CONTINUE</li><li>To see your top 10 results press BEST RESULTS</li></ol><h3>All combinations in this game are solvable</h3></div>');const u=function(){const e=document.createElement("header");e.className="header-container";const t=document.createElement("h1");return t.innerHTML="Fifteen Gem Puzzle",l.className="audio",e.append(t),e.append(l),l.addEventListener("click",(()=>{l.classList.toggle("audio_disabled")})),e}(),h=e("div","size-controls");let m;for(let e=3;e<=8;e++){const s=t(`${e}&times;${e}`,"size-btn",`${e}`);s.addEventListener("click",(()=>{return e=s,m.classList.remove("size-btn_checked"),e.classList.add("size-btn_checked"),m=e,void E(e.value);var e})),h.append(s),4===e&&(s.classList.add("size-btn_checked"),m=s)}const p=e("div","controls"),v=t("new game","btn start-btn"),f=t("save","btn save-btn"),g=t("continue","btn continue-btn"),T=t("best results","btn results-btn");p.append(v,f,g,T);const S=e("div","status-panel"),b=e("div","time-container","Time:&nbsp;");let L=n(0,0,b);const M=e("div","","Moves:&nbsp;0");S.append(M,b),a.append(u,p,S,d,h),document.body.append(a);let z=new c(m.value);function E(e){z=new c(e);const t=z.createMovesCounter();M.innerHTML="",M.append(t),z.generateTiles(),z.randomizeTiles(),z.renderField(d),L=n(0,0,b),L.startTimer()}v.addEventListener("click",(()=>E(m.value))),g.addEventListener("click",(()=>{const[e,t]=function(e,t,s){if(null!=localStorage.getItem("currentTilesPosition")){const i=localStorage.getItem("currentTilesPosition"),o=JSON.parse(i),r=localStorage.getItem("moves"),l=localStorage.getItem("fieldSize"),a=localStorage.getItem("minutes"),d=localStorage.getItem("seconds"),u=localStorage.getItem("winCombination");e.innerHTML="";const h=new c(l);h.moves=r,h.tiles=o,h.successCombination=u;const m=h.createMovesCounter();t.innerHTML="",t.append(m),h.renderField(e);const p=n(a,d,s);return p.startTimer(),[h,p]}alert("There is no saved game!")}(d,M,b);z=e,L=t})),f.addEventListener("click",(()=>{!function(e,t){const s=e.getTiles(),i=JSON.stringify(s),n=e.getCount(),o=e.getFieldSize(),r=t.getMinutes(),l=t.getSeconds(),c=e.successCombination;localStorage.setItem("currentTilesPosition",i),localStorage.setItem("moves",n),localStorage.setItem("fieldSize",o),localStorage.setItem("minutes",r),localStorage.setItem("seconds",l),localStorage.setItem("winCombination",c)}(z,L)})),d.addEventListener("click",(function t(){if(z.isSolved()){const s=z.getCount(),i=L.getTime();L.stopTimer(),function(t,s,i){const n=e("div","popup",`Hooray! You solved the puzzle in&nbsp;${s} and ${t}&nbsp;moves!`);i.append(n)}(s,i,d),d.removeEventListener("click",t)}})),window.addEventListener("resize",(()=>{z.renderField(d)}))})()})();